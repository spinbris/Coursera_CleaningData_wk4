---
title: "CodeBook"
author: "Stephen Parton"
date: "26 January 2019"
output:
  md_document: default
  html_document: default
  pdf_document: default
---

```{r setup, include=FALSE}
library(knitr)
#library(kableExtra)
knitr::opts_chunk$set(echo = FALSE)
```

## Introduction

This is the CodeBook for the following course assignment:

Coursera/ John Hopkins University - Data Getting and Cleaning Course - Wk4 Assignment.

The R Markdown script ('CodeBook.Rmd', stored in this repo) runs the 'run_analysis.R' script then prepares an updated CodeBook based on then current data and code (in run_analysis.R script). It therefore does not need to be run unless changes are made to the source data or R code.

The output document is stored in the repo as CodeBook.pdf, and CodeBook.html.

This document is intended to satisfy Review Criteria 3 of the assignment. An Rmd file is beng used so as to automate the process for ease of update, but also to meet Review Criteria 3 seems to suggest it should be done that way by stating:

"GitHub contains a code book that modifies and updates the available codebooks with the data to indicate all the variables and summaries calculated, along with units, and any other relevant information."

## Run run_analysis.R code

The following code runs the analysis R script 'run_analysis.R'

```{r run_analysis, include = FALSE}
source("run_analysis.R")
```

## 'all_data' Dataframe Description


This dataframe is the full 'tidied' version of the data.

Structure is summarised below:
```{r str, echo = FALSE}
all_data %>%
        summary.default()  %>%
        kable() 
        #kable_styling(full_width = F) %>%
        #column_spec(1, bold = T, border_right = T)
        
        

```

For clarity, first 6 rows of data frame are as follows:

```{r head, echo=FALSE}
all_data %>%
        head()  %>%
        kable() 
        #kable_styling(full_width = F)


```

The above tables clearly show that the 'tidied' data is structured in a 'long/ narrow' format. The rationale for this approach (as opposed to a potentially much wider structure) is explained in more detail in the README file for this repo.

## Transformations - run_analysis.R

The 'run_analysis.R' script handles all data loading, processing and output, as described below:

```{r load_packages, echo=TRUE}
# load packages
library(tidyverse)
library(data.table)


```

* tidyverse is used for transformations
* data.table is used for data loads (fread)


## Column Specifications


#### Subject_id

30 subjects were used in the original experiment. They are only identified by a number (integer) ranging from 1-30 for both test and training data, subsequently joined.



#### Activity

```{r activity, echo=FALSE}
acts <- unique(all_data$activity)
acts %>%
        kable(col.names = c("Activity"))
 
```




Description of each column, and rationale for use is as follows:

 * subject_id - 
